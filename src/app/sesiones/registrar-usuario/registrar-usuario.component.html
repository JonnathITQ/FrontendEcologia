<div class="register-container">
    <div class="background-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
    </div>

    <div class="register-card">
        <div class="card-header">
            <h2>Crear Cuenta</h2>
            <p>Únete a nuestra comunidad de reciclaje</p>
        </div>

        <form #registerForm="ngForm" (ngSubmit)="registrar(registerForm)" class="register-form">

            <!-- Image Upload -->
            <div class="image-upload-container">
                <div class="image-preview">
                    <img [src]="imgSelected" alt="Perfil">
                </div>
                <label for="file-upload" class="custom-file-upload">
                    <i class="bi bi-camera"></i> Subir Foto
                </label>
                <input id="file-upload" type="file" (change)="fileChangeEvent($event)" accept="image/*"
                    style="display: none;">
            </div>

            <!-- Messages -->
            <div *ngIf="message_error" class="alert alert-danger">
                {{ message_error }}
            </div>
            <div *ngIf="message_success" class="alert alert-success">
                {{ message_success }}
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label>Nombres</label>
                    <input type="text" name="nombre" #nombre="ngModel" [(ngModel)]="user.nombre" required
                        class="form-control" placeholder="Tus nombres">
                </div>
                <div class="form-group">
                    <label>Apellidos</label>
                    <input type="text" name="apellido" #apellido="ngModel" [(ngModel)]="user.apellido" required
                        class="form-control" placeholder="Tus apellidos">
                </div>
            </div>

            <div class="form-group">
                <label>Correo Electrónico</label>
                <input type="email" name="correo" #correo="ngModel" [(ngModel)]="user.correo" required
                    class="form-control" placeholder="ejemplo@correo.com">
            </div>

            <div class="form-grid">
                <div class="form-group">
                    <label>Contraseña</label>
                    <input type="password" name="contrasenia" #contrasenia="ngModel" [(ngModel)]="user.contrasenia"
                        required class="form-control" placeholder="••••••••">
                </div>
                <div class="form-group">
                    <label>Confirmar Contraseña</label>
                    <input type="password" name="confirmarContrasenia" #confirmarContrasenia="ngModel"
                        [(ngModel)]="user.confirmarContrasenia" required class="form-control" placeholder="••••••••">
                </div>
            </div>

            <div class="form-group">
                <label>Descripción (Opcional)</label>
                <textarea name="descripcion" #descripcion="ngModel" [(ngModel)]="user.descripcion" class="form-control"
                    rows="2" placeholder="Cuéntanos un poco sobre ti..."></textarea>
            </div>

            <button type="submit" class="btn-register" [disabled]="!registerForm.valid">
                <span>Registrarse</span>
                <i class="bi bi-arrow-right"></i>
            </button>

            <div class="form-footer">
                <p>¿Ya tienes cuenta? <a routerLink="/sesiones/loginUsuario">Inicia Sesión</a></p>
            </div>
        </form>
    </div>
</div>